<div class="history-body">
  <mat-card class="history-card">
    <div fxLayout="row">
      <span class="app-spacer"></span>
      <i id="close-icon" class="app-icon fa fa-times-circle" (click)="onExitClick()"></i>
    </div>
    <mat-card-header style="justify-content: center">
      <mat-card-title style="text-align: center;">
        <h2>History</h2>
        <h3>Meeting: {{ meeting.name }}</h3>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content class="card-deck-container mat-elevation-z4">
      <ng-container
        *ngIf="anomaliesHistory; then historyOn; else historyOff">
      </ng-container>
      <ng-template #historyOn>
        <table mat-table [dataSource]="anomaliesHistory">

          <!-- Type Column -->
          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef>Type</th>
            <td mat-cell *matCellDef="let element">
              <ng-container [ngSwitch]="element.type">
                <mat-icon mat-list-icon *ngSwitchCase="'info'">info</mat-icon>
                <mat-icon mat-list-icon *ngSwitchCase="'warning'" color="warn">warning</mat-icon>
                <mat-icon id="green" mat-list-icon *ngSwitchCase="'success'">feedback</mat-icon>
                <mat-icon mat-list-icon *ngSwitchDefault>info</mat-icon>
              </ng-container>
            </td>
          </ng-container>

          <!-- Date Column -->
          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef>Date</th>
            <td mat-cell *matCellDef="let element"> {{element.date}} </td>
          </ng-container>

          <!-- Reason Column -->
          <ng-container matColumnDef="reason">
            <th mat-header-cell *matHeaderCellDef>Reason</th>
            <td mat-cell *matCellDef="let element"> {{element.reason}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </ng-template>
      <ng-template #historyOff>
        <div fxLayoutAlign="center center">
          <app-progress-bar></app-progress-bar>
        </div>
      </ng-template>

    </mat-card-content>
  </mat-card>
</div>
