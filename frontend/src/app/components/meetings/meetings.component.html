<div class="main-body" fxLayout="column">
  <ng-container
    *ngIf="settingMeeting; then settingOn; else settingOff">
  </ng-container>

  <ng-template #settingOff>
    <mat-card>
      <mat-card-header style="justify-content: center;">
        <mat-card-title>
          <h2>Meetings</h2>
        </mat-card-title>
      </mat-card-header>
      <ng-container
        *ngIf="allMeetings; then spinnerOff; else spinner">
      </ng-container>
      <ng-template #spinnerOff>
        <mat-card-content>
          <div fxLayout="row wrap" fxFlex.md="50" class="card-deck-container mat-elevation-z4">

            <div *ngFor="let meeting of allMeetings.future" class="card-item">
              <app-meeting-card-future
                [meeting]="meeting"
                (deleteEmitter)="delete(meeting)"
                (settingEmitter)="setting(meeting)">

              </app-meeting-card-future>
            </div>

            <div *ngFor="let meeting of allMeetings.current" class="card-item">
              <app-meeting-card-current
                [meeting]="meeting"
                (deleteEmitter)="delete(meeting)"
                (settingEmitter)="setting(meeting)">

              </app-meeting-card-current>
            </div>

            <div *ngFor="let meeting of allMeetings.recent" class="card-item">
              <app-meeting-card-recent
                [meeting]="meeting"
                (deleteEmitter)="delete(meeting)"
                (settingEmitter)="setting(meeting)">

              </app-meeting-card-recent>
            </div>

            <div class="card-item">
              <mat-card class="add-card"
                        [ngStyle]="{'width':'400' + 'px'}"
                        (click)="addMeeting()">
                <mat-card-header style="justify-content: center;">
                  <mat-card-title>
                    Dodaj spotkanie
                  </mat-card-title>
                </mat-card-header>
              </mat-card>

            </div>

            <div class="footer" *ngIf="allMeetings.current.length !== 0">
              <mat-paginator
                [length]="paginatorSize"
                [pageSize]="numberOfProductsDisplayedInPage"
                [pageSizeOptions]="pageSizeOptions"
                (page)="updateMeetingsDisplayedInPage($event)">
              </mat-paginator>
            </div>
          </div>
        </mat-card-content>
      </ng-template>
      <ng-template #spinner>
        <mat-card-content fxLayout="row wrap">
          <span class="app-spacer"></span>
          <app-progress-bar></app-progress-bar>
          <span class="app-spacer"></span>
        </mat-card-content>
      </ng-template>
    </mat-card>
  </ng-template>

  <ng-template #settingOn>
    <app-meeting-setting
      [meeting]="settingMeeting">
    </app-meeting-setting>
  </ng-template>

</div>
